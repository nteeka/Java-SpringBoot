
<div th:replace="/ViewLayout/header.html"></div>

<div class="alert alert-danger" th:if="${error}">
	<p th:text="${error}"></p>
</div>
<div class="alert alert-success" th:if="${success}">
	<p th:text="${success}"></p>
</div>
<div class="main">
        <div class="main__header container">
            <div class="main__header__box">
	            <a href="/Todo/listTodo" style="text-decoration: none">
	                <svg enable-background="new 0 0 24 24" focusable="false" height="18" viewBox="0 0 24 24" width="18"
	                    class=" NMm5M">
	                    <g>
	                        <rect fill="none" height="24" width="24"></rect>
	                    </g>
	                    <g>
	                        <g>
	                            <path
	                                d="M20,3H4C2.9,3,2,3.9,2,5v14c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V5 C22,3.9,21.1,3,20,3z M20,19H4V5h16V19z"
	                                fill-rule="evenodd"></path>
	                            <polygon fill-rule="evenodd"
	                                points="19.41,10.42 17.99,9 14.82,12.17 13.41,10.75 12,12.16 14.82,15"></polygon>
	                            <rect fill-rule="evenodd" height="2" width="5" x="5" y="7"></rect>
	                            <rect fill-rule="evenodd" height="2" width="5" x="5" y="11"></rect>
	                            <rect fill-rule="evenodd" height="2" width="5" x="5" y="15"></rect>
	                        </g>
	                    </g>
	                </svg>
	                <span>To-do</span>
	             </a>
            </div>
            <div class="main__header__box">
	            <a href="#" style="text-decoration: none">
	                <svg focusable="false" width="18" height="18" viewBox="0 0 24 24" class=" NMm5M">
	                    <path
	                        d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z">
	                    </path>
	                </svg>
	                <span>Calendar</span>
	            </a>
            </div>
            
            

        </div>
    </div>

    <div id="classrooms">
        <div class="clasrooms__box container">
            
            
	            <div  th:each="class : ${classes}" class="clasrooms__box__item">
		                <div onclick="redirectToClass(this)" th:attr="data-class-id=${class.classId}"  class="clasrooms__box__item__top">
		                    <div>
		                    	<h2 th:text="${#strings.length(class.className) &gt; 15 ? #strings.substring(class.className, 0, 15) + '...' : class.className}"></h2>
		                    	
		                    </div>
		                    
		                </div>
		            	
		                <div class="clasrooms__box__item__middle">
                	
		                    <img th:if="${class.account.image == null} " th:src="@{'/image/getImage/' + 'facebook default profile picture.jpg'}" alt="Created image">
		                	<img th:unless="${class.account.image == null} " th:src="${class.account.image}" alt="Created image">
		                	<span>Created by : </span><span style="text-align: center;" th:text="${class.account.displayName}"></span>
		                	
		                	
		                </div>
		                <div class="clasrooms__box__item__bottom">
		                	<a th:href="'/Class/enterClass/' + ${class.classId}" class="btn btn-success">Enter</a>
		                
		                	<a href="#" class="btn btn-danger leave-class-btn" th:data-class-id="${class.classId}">Leave</a>
		                	
		                	
		                    
		                </div>
		            </div>
		            <script>
						function redirectToClass(element) {
						    var classId = element.getAttribute("data-class-id");
						    window.location.href = '/Class/enterClass/' + classId;
						}
					</script>
		            
            


        </div>
    </div>
<style>

.main {
    width: 100%;
}

.main__header {
    height: 65px;
    display: flex;
    align-items: center;
}

.main__header__box{
    display: flex;
    align-items: center;
    margin-left: 13px;
    color: #1a73e8;
    padding: 5px;
}

.main__header__box span{
    margin-left: 11px;
    font-family: "Product Sans", Arial, Helvetica, sans-serif;
    font-size: 0.8rem;
    font-weight: bold;
}

.main__header__box svg{
    fill: #1a73e8;
}

.main__header :first-child{
    margin-left: 4px;
}

.main__header__box:hover{
    background-color: #e8eaf1;
    cursor: pointer;
}

.main__header__box:hover span{
    color: #2962ff;
}

.main__header__box:hover svg{
    fill: #2962ff;
}

.clasrooms__box{
    padding-top: 12px;
    padding-left: 12px;
    display: flex;
    justify-content: flex-start;
    flex-wrap: wrap;
}

.clasrooms__box__item{
    width: 300px;
    height: 300px;
    border: 1px solid #dadce0;
    border-radius: 10px;
    margin-right: 24px;
    margin-bottom: 25px;
    display: flex;
    flex-direction: column;
}


.clasrooms__box__item__top {
    width: 100%;
    height: 34%;
    padding: 10px;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    background-image: url(https://www.gstatic.com/classroom/themes/img_reachout.jpg);
    background-size: cover;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.clasrooms__box div:nth-child(2) .clasrooms__box__item__top{
    background-image: url(https://www.gstatic.com/classroom/themes/img_learnlanguage.jpg);
}
.clasrooms__box div:nth-child(3) .clasrooms__box__item__top{
    background-image: url(https://www.gstatic.com/classroom/themes/img_read.jpg);
}
.clasrooms__box div:nth-child(5) .clasrooms__box__item__top{
    background-image: url(https://www.gstatic.com/classroom/themes/img_learnlanguage.jpg);
}
.clasrooms__box div:nth-child(6) .clasrooms__box__item__top{
    background-image: url(https://www.gstatic.com/classroom/themes/img_read.jpg);
}

.clasrooms__box__item:hover{
    cursor: pointer;
    box-shadow: 0 1px 2px 0 rgb(60 64 67 / 30%), 0 2px 6px 2px rgb(60 64 67 / 15%);
}

.clasrooms__box__item__top :first-child{
    display: flex;
    justify-content: space-between;
    padding: 5px 5px 0px 5px;
    color: white;
    
}

.clasrooms__box__item__top h2{
    font-family: "Product Sans", Arial, Helvetica, sans-serif; 
    font-weight: 400;
}

.clasrooms__box__item__top h2:hover{
    text-decoration: underline;
    cursor: pointer;
}

.clasrooms__box__item__top :last-child{
    padding-left: 5px;
}

.clasrooms__box__item__top :last-child span{
    color: white;
    font-family: "Product Sans", Arial, Helvetica, sans-serif; 
    font-size: 14px;
}

.clasrooms__box__item__top :last-child span:hover{
    text-decoration: underline;
}

.clasrooms__box__item__middle{
    height: 46%;
    width: 100%;
    position: relative;
}

.clasrooms__box__item__middle img{
    width: 70px;
    height: 70px;
    border-radius: 50%;
    position: absolute;
    right: 15px;
    top: -35px;
}

.clasrooms__box__item__bottom{
    width: 100%;
    height: 20%;
    border-top: 1px solid #dadce0;
    padding-right: 20px;
    display: flex;
    align-items: center;
    justify-content: end;
}

.clasrooms__box__item__bottom :first-child{
    margin-right: 25px;
}



#help{
    display: flex;
    justify-content: center;
    align-items: center;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    border: 2px solid #5f6368;
    color: #5f6368;
    position: fixed;
    bottom: 30px;
    left: 32px;
    font-weight: bold;
    font-size: 18px;
}

#help:hover{
    cursor: pointer;
}



@media screen and (max-width: 640px){
    .clasrooms__box__item__top h2{
        font-size: 16px;
    }
    .clasrooms__box__item__top :last-child span{
        font-size: 16px;
    }

    .main__header__box span{
        display: none;
    }

    .main__header__box svg{
        width: 30px;
        height: 30px;
        fill: #5f6368;
    }
}

@media screen and (max-width: 480px){
    .nav__right a, .nav__right i:nth-child(2){
        display: none;
    }
}
</style>    


<script>
	// Lấy tất cả các phần tử có class là leave-class-btn
	const leaveButtons = document.querySelectorAll('.leave-class-btn');
	leaveButtons.forEach(button => {
		button.addEventListener('click', function() {
		if (confirm("Are you sure you want to leave this class?")) {
			const classId = button.getAttribute('data-class-id');
			window.location.href = '/Class/leaveClass/' + classId;
		}
	});
});
	
</script>



<div th:replace="/ViewLayout/footer.html"></div>
