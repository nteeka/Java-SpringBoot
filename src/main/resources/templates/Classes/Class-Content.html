<div th:replace="/ViewLayout/header.html"></div>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<div class="container-fluid">
    <div class="row content">
        <div class="col-sm-2 sidenav">
            <h4>John's Blog</h4>
            <!-- List of cards -->
            <div class="card">
                <div class="card-header">
                    Featured
                </div>
                <ul class="list-group list-group-flush">
                    <!-- Card 1 -->
                    <li class="list-group-item" th:each="class : ${classes}">
                        <div class="card-body">
                            <h5 class="card-title" th:text="${class.className}">Class Title</h5>
                            <!-- <p class="card-text" th:text="${class.description}">Class Description</p> -->
                            <a th:href="'/Teacher/enterClass/' + ${class.classId}" class="btn btn-primary">Enter Class</a>
                        </div>
                    </li>

                </ul>
            </div>
            <!-- End list of cards -->

            <!-- Search form -->
            <div class="input-group mt-3">
                <input type="text" class="form-control" placeholder="Search Blog..">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </div>
            <div class="card">
    							<div class="card-body">
        							<h5 class="card-title">Class ID</h5>
        							<p class="card-text" th:text="${id}" th:data-id="${id}"></p>
        							<button class="btn btn-primary" id="copyButton">Copy ID</button>
    							</div>
							</div>
							<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
							<script>
    							var clipboard = new ClipboardJS('#copyButton', {text: function() {
        							var id = document.querySelector('.card-text').getAttribute('data-id');
            						return id;
        						}
    							});    
							</script>
							<!-- Thẻ <a> để kích hoạt modal -->
							<a href="#" id="createHomeworkBtn" class="btn btn-primary">Create Homework</a>
							<a href="#" id="createNotifyBtn" class="btn btn-primary">Create Notification</a>
        </div>

        <div class="col-sm-10">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#recentPosts">Bảng tin</a></li>
                <li><a data-toggle="tab" href="#listHomework">Bài tập trên lớp</a></li>
                <li><a data-toggle="tab" href="#listMembers">Người tham gia</a></li>
                <!-- Add more tabs as needed -->
            </ul>

            <div class="tab-content">
                <!-- Tab content for Recent Posts -->
                <div id="recentPosts" class="tab-pane fade in active">                   
                   <!-- Add content for recent posts -->
                	<div class="row">                  
        				        
           				<!-- Content on the right side -->
        					
								<!-- Modal -->
								<div id="homeworkModal" class="modal">
									<div class="modal-dialog">
								    	<div class="modal-content">
								
								      	<!-- Modal Header -->
								      		<div class="modal-header">
								        		<h4 style="text-align: center" class="modal-title">Create Homework</h4>
								        		<button type="button" class="close" data-dismiss="modal">&times;</button>
								      		</div>
								
								      		<!-- Modal Body -->
								      		<div class="modal-body">
								        		<form action="/Teacher/createHomework" id="homeworkForm" method="post"  enctype="multipart/form-data">
									        		<div class="form-group">
												        <label for="classes">Class</label>
												        <select class="form-control" id="classes" name="classes">
												            <!-- Iterate over the classes and populate the options -->
												            <option th:value="${c.classId}" th:text="${c.className}"></option>
												        </select>
												    </div>
								          			<div class="form-group">
								            			<label for="homeworkName">Name:</label>
								            			<input name="homeworkName" type="text" class="form-control" id="homeworkName" required>
								          			</div>
								          			<div class="form-group">
								            			<label for="description">Description:</label>
								            			<textarea name="description" class="form-control" id="homeworkDescription" required></textarea>
								          			</div>
								          			<div class="form-group">
								            			<label for="deadline">Deadline:</label>
								            			<input name="deadline" type="date" class="form-control" id="homeworkDeadline" required>
								          			</div>
								          			<div class="form-group mt-3">
											            <label class="mr-2">Upload your homework:</label>
											            <input type="file" name="filePath">
          											</div>
								          			<button type="submit" class="btn btn-primary">Create</button>
								        		</form>
								      		</div>
								
								    	</div>
								  	</div>
								</div>
								
								<div id="notifyModal" class="modal">
									<div class="modal-dialog">
								    	<div class="modal-content">
								
								      	<!-- Modal Header -->
								      		<div class="modal-header">
								        		<h4 style="text-align: center" class="modal-title">Create Notification</h4>
								        		<button type="button" class="close" data-dismiss="modal">&times;</button>
								      		</div>
								
								      		<!-- Modal Body -->
								      		<div class="modal-body">
								        		<form action="/Teacher/createNotification" id="notifyForm" method="post"  enctype="multipart/form-data">
									        		<div class="form-group">
												        <label for="classes">Class</label>
												        <select class="form-control" id="classes" name="classes">
												            <!-- Iterate over the classes and populate the options -->
												            <option th:value="${c.classId}" th:text="${c.className}"></option>
												        </select>
												    </div>
								          			<div class="form-group">
								            			<label for="title">Title:</label>
								            			<input type="text" name="title" class="form-control" id="notifyTitle" required />
								          			</div>
								          			<div class="form-group">
								            			<label for="content">Content:</label>
								            			<textarea name="content" class="form-control" id="notifyDescription" required></textarea>
								          			</div>
								          			
								          			<div class="form-group mt-3">
											            <label class="mr-2">Upload your file(Optional):</label>
											            <input type="file" name="filePath">
          											</div>
								          			<button type="submit" class="btn btn-primary">Create</button>
								        		</form>
								      		</div>
								
								    	</div>
								  	</div>
								</div>
								<script>
								  // Lắng nghe sự kiện click vào thẻ <a> và hiển thị modal
								  document.getElementById('createHomeworkBtn').addEventListener('click', function() {
								    document.getElementById('homeworkModal').style.display = 'block';
								  });
								  
								  
								  document.getElementById('createNotifyBtn').addEventListener('click', function() {
									    document.getElementById('notifyModal').style.display = 'block';
									  });
								  
								  
								  
								
								  // Đóng modal khi nhấn vào nút đóng hoặc click bên ngoài modal
								  document.querySelectorAll('.close').forEach(function(el) {
								    el.addEventListener('click', function() {
								      document.getElementById('homeworkModal').style.display = 'none';
								    });
								  });
								  
								  document.querySelectorAll('.close').forEach(function(el) {
									    el.addEventListener('click', function() {
									      document.getElementById('notifyModal').style.display = 'none';
									    });
									  });
								  
								  
								
								  // Xử lý form submit để tạo bài tập
								  document.getElementById('homeworkForm').addEventListener('submit', function(event) {
								    
								    var name = document.getElementById('homeworkName').value;
								    var description = document.getElementById('homeworkDescription').value;
								    var deadline = document.getElementById('homeworkDeadline').value;
								
								    // Thực hiện các thao tác cần thiết để tạo bài tập, ví dụ: gửi dữ liệu đến server
								   
								
								    // Đóng modal sau khi tạo xong
								    document.getElementById('homeworkModal').style.display = 'none';
								    document.getElementById('notifyModal').style.display = 'none';								 
								  });
								  
								</script>
								
								<div id="updateNotifyModal" class="modal">
								    <div class="modal-dialog">
								        <div class="modal-content">
								            <!-- Modal Header -->
								            <div class="modal-header">
								                <h4 class="modal-title">Update Notification</h4>
												<button type="button" class="close" data-dismiss="modal">&times;</button>
								            </div>
								            <!-- Modal Body -->
								            <div class="modal-body">
								                <form id="updateNotifyForm" action="/Teacher/updateNoti" method="post" enctype="multipart/form-data">
								                    <input type="hidden" id="updateNotifyId" name="notifyId">
								                    <div class="form-group">
								                        <label for="updateNotifyTitle">Title:</label>
								                        <input type="text" class="form-control" id="updateNotifyTitle" name="title">
								                    </div>
								                    <div class="form-group">
								                        <label for="updateNotifyContent">Content:</label>
								                        <textarea class="form-control" id="updateNotifyContent" name="content"></textarea>
								                    </div>
								                    <div class="form-group mt-3">
													<label class="mr-2">Upload your file(Optional):</label>
														<input type="file" name="filePath">
								          			</div>
								                    <button type="submit" class="btn btn-primary">Update</button>
								                </form>
								            </div>
								        </div>
								    </div>
								</div>
								<script>
									function openUpdateNotifyModal(notifyId, notifyTitle, notifyContent) {
									    // Điền dữ liệu vào các trường trong modal
									    document.getElementById('updateNotifyId').value = notifyId;
									    document.getElementById('updateNotifyTitle').value = notifyTitle;
									    document.getElementById('updateNotifyContent').value = notifyContent;
									    
									    // Mở modal
									    $('#updateNotifyModal').modal('show');
									    
									    document.querySelectorAll('.close').forEach(function(el) {
										    el.addEventListener('click', function() {
										    	$('#updateNotifyModal').modal('hide');
										    });
										  });
									    
										};																    
								</script>							
								
	    <div th:if="${#lists.isEmpty(notifies)}">
		    <!-- Display a message if notifies is null or empty -->
		    <div class="col-md-10">
		        <h1>No notifications available</h1>
		    </div>
		</div>					
        <div th:each="notify : ${notifies}" class="col-md-10">
            <!-- Content on the right side -->
            <h4><small>RECENT POSTS</small></h4>
            <hr>
            <h2><span th:text="${notify.title}"></span></h2>
            <div th:if="${notify.account.accountId == session.loggedInUser.accountId }">
            	<a href="#" class="btn btn-primary" 
       data-toggle="modal" data-target="#updateNotifyModal"
       th:attr="onclick='openUpdateNotifyModal(\'' + ${notify.notifyId} + '\', \'' + ${notify.title} + '\', \'' + ${notify.content} + '\')'">
       Cập nhật thông báo
    </a>
    <a th:attr="onclick='confirmDelete(\'' + ${notify.notifyId} + '\')'" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> Delete</a>
            </div>
            
    <script>
    function confirmDelete(notifyId) {
        var result = confirm("Are you sure you want to delete this notify?");
        if (result) {
            // User clicked 'Yes', redirect to the delete URL
            window.location.href = "/Teacher/deleteNoti/" + notifyId;
        } else {
            // User clicked 'No', do nothing
        }
    }
</script>
            <h5><span class="glyphicon glyphicon-time"></span> Post by <span th:text="${notify.account.displayName}"></span>, <span th:text="${notify.dateCreated}"></span>.</h5>
            <h5 th:if="${notify.lastModifed != null}"><span class="glyphicon glyphicon-time"></span>Last modified <span th:text="${notify.lastModifed}"></span></h5>
	      <h5><span class="label label-danger">Food</span> <span class="label label-primary">Ipsum</span></h5><br>
	      <span th:text="${notify.content}"></span>
	      <!-- Check if filePath is not empty -->
    		<div th:if="${notify.filePath}">
		        <!-- Display link to file -->
				<a th:href="@{'/downloadFile/' + ${notify.filePath}}" th:text="${notify.filePath}">Download</a>		        <!-- You can modify the link text and URL as needed -->
		    </div>
	      <br><br>
	      <h4>Leave a Comment:</h4>
            <form role="form" action="/Comment/createNotifyComment" method="post">
            <div class="form-group">
	          <input name="notify" th:value="${notify.notifyId}" hidden="true" class="form-control" rows="3" required />
	        </div>
	        <div class="form-group">
	          <textarea name="content" class="form-control" rows="3" required></textarea>
	        </div>
	        <button type="submit" class="btn btn-success">Submit</button>
	      </form>
	      <br><br>
            <p><span class="badge" th:text="${notify.numComment}"></span> Comments:</p><br>
            <div class="row">
    			<div th:each="cmt : ${listComment}" th:if="${notify.notifyId == cmt.notify.notifyId }" class="comment">
    <div class="col-sm-2 text-center">
        <img th:src="@{'/image/getImage/' + ${cmt.account.image}}" class="img-circle" height="65" width="65" alt="Avatar">
    </div>
    <div class="col-sm-10">
        <h4><span th:text="${cmt.account.displayName}"></span> <small><span th:text="${cmt.dateCreated}"></span></small></h4>
        <p class="original-content" th:text="${cmt.content}"></p>
        <textarea class="edit-content" style="display: none;"></textarea>
        <div class="btn-group">	
			<a href="#" th:if="${#lists.contains(checkLikeComment, cmt.commentId)}"
			   th:id="'likeButton_' + ${cmt.commentId}" 
			   th:data-comment-id="${cmt.commentId}"
			   class="like-btn liked" 
			   th:attr="onclick='toggleLike(\'' + ${cmt.commentId} + '\', event)'">
			    <i class="fa fa-thumbs-up"></i>Liked<span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}">(</span><span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}" th:text="${cmt.likeNumber}"></span><span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}">)</span>
			</a>
			<a href="#" th:unless="${#lists.contains(checkLikeComment, cmt.commentId)}"
			   th:id="'likeButton_' + ${cmt.commentId}" 
			   th:data-comment-id="${cmt.commentId}"
			   class="like-btn" 
			   th:attr="onclick='toggleLike(\'' + ${cmt.commentId} + '\', event)'">
			    <i class="fa fa-thumbs-up"></i>Like<span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}">(</span><span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}" th:text="${cmt.likeNumber}"></span><span th:if="${cmt.likeNumber != null or cmt.likeNumber != 0}">)</span>
			</a>

			<script th:inline="javascript">			    
			    function toggleLike(commentId, event) {
			        event.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <a>			        
			        var likeButton = document.getElementById('likeButton_' + commentId);
			        var isLiked = likeButton.classList.contains('liked');			        
			        fetch('/Comment/likeComment/' + commentId, { method: 'GET' })
			        .then(response => {
			            if (!response.ok) {
			                throw new Error('Failed to like/unlike comment');
			            }			            
			            // Thay đổi nút từ Like sang Liked và ngược lại
			            if (isLiked) {
			                likeButton.innerHTML = '<i class="fa fa-thumbs-up"></i>Like';
			                likeButton.classList.remove('liked');
			            } else {
			                likeButton.innerHTML = '<i class="fa fa-thumbs-up"></i>Liked';
			                likeButton.classList.add('liked');
			            }			            
			            console.log('Comment like/unlike successful');
			        })
			        .catch(error => {
			            console.error('Error:', error);
			        });
			    }			
			</script>       	
    		<a th:if="${cmt.account.accountId == session.loggedInUser.accountId}"  th:data-comment-id="${cmt.account.email}" href="#" class="edit-btn">
                <i class="fa fa-pencil"></i> Edit
            </a>
			<a href="#" class="save-btn" style="display: none;" th:data-comment-id="${cmt.commentId}"><i class="fa fa-save"></i> Save</a>
			<a href="#" class="cancel-btn" style="display: none;">Cancel</a>
			
			<a href="#" th:if="${cmt.account.accountId == session.loggedInUser.accountId }" th:attr="onclick='confirmDeleteComment(\'' + ${cmt.commentId} + '\')'" >Delete</a>   	
   			
   			
   			
   			<a href="#" class="reply-btn">Reply</a>
<form th:action="@{/Comment/createReplyComment}" method="post" class="reply-form" style="display: none;">
   	
   	<input name="comment" th:value="${cmt.commentId}" hidden="true" class="form-control" /> 
    <textarea name="content" class="reply-content" rows="3" required></textarea>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script>
$(document).ready(function() {
    $('.reply-btn').click(function(event) {
        event.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <a>
        
        // Hiển thị form Reply tương ứng
        var $comment = $(this).closest('.comment');
        $comment.find('.reply-form').show();
        
    });

    
});

// Hàm gửi dữ liệu reply comment lên server bằng Ajax
function createReplyComment(content, commentId) {
    $.ajax({
        type: 'POST',
        url: '/Comment/createReplyComment',
        data: { content: content, commentId: commentId },
        success: function(response) {
            // Xử lý sau khi reply comment được tạo thành công (nếu cần)
            console.log('Reply comment created successfully');
            // Có thể làm mới danh sách comment ở đây nếu cần
        },
        error: function(xhr, status, error) {
            // Xử lý lỗi nếu có
            console.error('Error creating reply comment:', error);
        }
    });
}
</script>

    		
    	</div>
        <br>
    </div>
    <div style="padding-left: 100px">
				<!-- <p><span class="badge">1</span> Comment:</p><br> -->	
	          <div th:each="reply : ${listReply}" th:if="${reply.comment.commentId == cmt.commentId}" class="row">	          
	            <div class="col-sm-2 text-center">
	              <img th:src="@{'/image/getImage/' + ${reply.account.image}}" class="img-circle" height="65" width="65" alt="Avatar">
	            </div>
	            <div class="col-xs-10">
	              <h4><span th:text="${reply.account.displayName}"></span> <small><span th:text="${reply.dateCreated}"></span></small></h4>
	              <p><span th:text="${reply.content}"></span></p>
	              <br>
	            </div>
	          </div>
			</div>
</div>
			
	          

<script>
$(document).ready(function() {
    $('.edit-btn').click(function(event) {
        event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
        // Ẩn nội dung ban đầu và hiển thị textarea để chỉnh sửa
        var $comment = $(this).closest('.comment');
        $comment.find('.original-content').hide();
        $comment.find('.edit-content').show().val($comment.find('.original-content').text().trim());
        $comment.find('.save-btn').show();
        $comment.find('.cancel-btn').show();
    });
	
    $('.cancel-btn').click(function(event) {
        event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
        var $comment = $(this).closest('.comment');
        $comment.find('.edit-content').hide();   
        $comment.find('.cancel-btn').hide();
        $comment.find('.save-btn').hide();
    });
    
    
    $('.save-btn').click(function(event) {
        event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
        var $comment = $(this).closest('.comment');
        var commentId = $(this).data('comment-id');
        var updatedContent = $comment.find('.edit-content').val().trim();

        // Gửi yêu cầu cập nhật nội dung bình luận bằng Ajax
        $.ajax({
            type: 'POST',
            url: '/Comment/updateComment/' + commentId,
            data: { content: updatedContent },
            success: function(response) {
                // Xử lý phản hồi từ máy chủ nếu cần
                // Ví dụ: Hiển thị thông báo hoặc làm mới danh sách bình luận
                console.log('Comment updated successfully');
                // Ẩn textarea chỉnh sửa và hiển thị lại nội dung mới
                $comment.find('.edit-content').hide();
                $comment.find('.original-content').text(updatedContent).show();
                // Ẩn nút Save
                $comment.find('.save-btn').hide();
            },
            error: function(xhr, status, error) {
                // Xử lý lỗi nếu cần
                console.error('Error updating comment:', error);
            }
        });
    });
});
</script>




	        
	        
	        
	      </div>
            
        </div>
    </div>
                </div>

                
                <div id="listHomework" class="tab-pane fade">
                    
                    
    
    
    <div class="event-schedule-area-two bg-color pad100">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title text-center">
                    <div class="title-text">
                        <h2>Danh Sách Bài Tập</h2>
                    </div>
                    <p>
                        In ludus latine mea, eos paulo quaestio an. Meis possit ea sit. Vidisse molestie<br />
                        cum te, sea lorem instructior at.
                    </p>
                </div>
            </div>
            <!-- /.col end-->
        </div>
        <!-- row end-->
        <div class="row">
            <div class="col-lg-12">
                <ul class="nav custom-tab" id="myTab" role="tablist">
                <!--href : tab đã làm - chưa làm - tất cả-->
                    <li class="nav-item">
                        <a class="nav-link active show" id="home-taThursday" data-toggle="tab" href="#all" role="tab" aria-controls="home" aria-selected="true">Tất cả</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#done" role="tab" aria-controls="profile" aria-selected="false">Đã làm</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#notDone" role="tab" aria-controls="contact" aria-selected="false">Chưa làm</a>
                    </li>
             
                </ul>
                
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade active show" id="all" role="tabpanel">
                    
                    
                    	<div id="updateHomeworkModal" class="modal">
								    <div class="modal-dialog">
								        <div class="modal-content">
								            <!-- Modal Header -->
								            <div class="modal-header">
								                <h4 class="modal-title">Update Homework</h4>
												<button type="button" class="close" data-dismiss="modal">&times;</button>
								            </div>
								            <!-- Modal Body -->
								            <div class="modal-body">
								                <form id="updateHomeworkForm" action="/Teacher/updateHomework" method="post" enctype="multipart/form-data">
								                    <input type="hidden" id="updateHomeworkId" name="homeworkId">
								                    <div class="form-group">
								                        <label for="updateHomeworkName">Homework name:</label>
								                        <input type="text" class="form-control" id="updateHomeworkName" name="homeworkName">
								                    </div>
								                    <div class="form-group">
								                        <label for="updateHomeworkDescription">Description:</label>
								                        <textarea class="form-control" id="updateHomeworkDescription" name="description"></textarea>
								                    </div>
								                    <div class="form-group">
								                        <label for="updateHomeworkDeadline">Deadline:</label>
								                        <input type="date" class="form-control" id="updateHomeworkDeadline" name="deadline">
								                    </div>
								                    <div class="form-group mt-3">
													<label class="mr-2">Upload your file(Optional):</label>
														<input type="file" name="filePath">
								          			</div>
								                    <button type="submit" class="btn btn-primary">Update</button>
								                </form>
								            </div>
								        </div>
								    </div>
								</div>
								<script>
									function openUpdateHomeworkModal(homeworkId, homeworkName, homeworkDescription, deadline) {
									    // Điền dữ liệu vào các trường trong modal
									    document.getElementById('updateHomeworkId').value = homeworkId;
									    document.getElementById('updateHomeworkName').value = homeworkName;
									    document.getElementById('updateHomeworkDescription').value = homeworkDescription;
									    document.getElementById('updateHomeworkDeadline').value = deadline;
									    
									    // Mở modal
									    $('#updateHomeworkModal').modal('show');
									    
									    document.querySelectorAll('.close').forEach(function(el) {
										    el.addEventListener('click', function() {
										    	$('#updateHomeworkModal').modal('hide');
										    });
										  });
									    
										};																    
								</script>
								
								
								
                        <div class="table-responsive">
                            <table class="table custom-table">
                                <thead>
                                <!--Danh sách tất cả -->
                                    <tr>                                       
                                        <th scope="col">Information</th>
                                        <th scope="col">Status</th>
                                        <th class="text-center" scope="col">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="homework : ${hw}" class="inner-box">                                        
                                        
                                        <td>
                                            <div class="event-wrap">
                                            <!--Tên bài tập -->
                                                <h3><a href="#" th:text="${homework.homeworkName}"></a></h3>
                                                <div class="meta">
                                                    <div class="organizers">
                                                    <!--Tên người tạo -->
                                                       <!-- <a  href="#">Aslan Lingker</a>-->
                                                       
                                                    </div>
                                                    <div class="categories">
                                                        
                                                        <!--<a href="#" th:text="${homework.classes.getClassName}"></a>-->
                                                        
                                                    </div>
                                                    <!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
                                                    <div class="time">
                                                        <p>From <span th:text="${homework.dateCreated}"></span> to <span th:text="${homework.deadline}"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                        <!--Trạng thái: đã nộp - chưa nộp -->
                                            <div class="r-no">
                                                <span></span>
                                            </div>
                                        </td>
                                        <!--các action -->
                                        <td> 
                                        <a href="#" class="btn btn-primary" 
       data-toggle="modal" data-target="#updateHomeworkModal"
       th:attr="onclick='openUpdateHomeworkModal(\'' + ${homework.homeworkId} + '\', \'' + ${homework.homeworkName} + '\', \'' + ${homework.description} + '\', \'' + ${homework.deadline} + '\')'">
       Cập nhật bài tập
    </a>
    <a th:attr="onclick='confirmDeleteHomework(\'' + ${homework.homeworkId} + '\')'" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> Delete</a>
            
            
    <script>
    function confirmDeleteHomework(homeworkId) {
        var result = confirm("Are you sure you want to delete this homework?");
        if (result) {
            // User clicked 'Yes', redirect to the delete URL
            window.location.href = "/Teacher/deleteHomework/" + homeworkId;
        } else {
            // User clicked 'No', do nothing
        }
    }
</script>
                                        	<a  th:if="${c.account.accountId == session.loggedInUser.accountId }" th:href="@{'/Teacher/editHomework/' + ${homework.homeworkId}}" class="btn btn-primary">Edit</a>                                         
                                            <a class="btn btn-primary" href="#">Read More</a>                                           
                                        </td>
                                    </tr>
                                    
                                    
                                </tbody>
                            </table>
                        </div>
                        <style>
                        .custom-table {
    border-collapse: collapse;
}

.custom-table th, .custom-table td {
    padding: 8px;
    border: 1px solid #dddddd;
    text-align: center;
}

.custom-table th {
    background-color: #f2f2f2;
}
                        </style>
                    </div>
                   
                    <div class="tab-pane fade" id="done" role="tabpanel" aria-labelledby="profile-tab">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="text-center" scope="col">Date</th>
                                        
                                        <th scope="col">Session</th>
                                        <th scope="col">Venue</th>
                                        <th scope="col">Venue</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <!--Danh sách các bài đã làm  -->
                                    <tr th:each="homework : ${hw}" class="inner-box">
                                    <!--Ngày giao bài -->
                                        <th style="text-align: center;" scope="row">
                                            <div class="event-date">
                                                <span>16</span>
                                                <p th:text="${homework.dateCreated}"></p>
                                            </div>
                                        </th>
                                        
                                        <td>
                                            <div class="event-wrap">
                                            <!--Tên bài tập -->
                                                <h3><a href="#" th:text="${homework.homeworkName}"></a></h3>
                                                <div class="meta">
                                                    <div class="organizers">
                                                    <!--Tên người tạo -->
                                                        <a  href="#">Aslan Lingker</a>
                                                    </div>
                                                    <div class="categories">
                                                        
                                                        <a href="#" th:text="${homework.classes.getClassName}"></a>
                                                        
                                                    </div>
                                                    <!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
                                                    <div class="time">
                                                        <p>Deadline :</p><span th:text="${homework.deadline}"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                        <!--Điểm, chưa làm chưa chấm thì 0/10 -->
                                            <div class="r-no">
                                                <span></span>
                                            </div>
                                        </td>
                                        <!--các action -->
                                        <td>
                                            <div class="primary-btn">
                                                <a class="btn btn-primary" href="#">Read More</a>
                                            </div>
                                        </td>
                                    </tr>
                                   
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="notDone" role="tabpanel" aria-labelledby="contact-tab">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="text-center" scope="col">Date</th>
                                        
                                        <th scope="col">Session</th>
                                        <th scope="col">Venue</th>
                                        <th scope="col">Venue</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <!--danh sách các bài tập chưa làm -->
                                    <tr th:each="homework : ${hw}" class="inner-box">
                                    <!--Ngày giao bài -->
                                        <th style="text-align: center;" scope="row">
                                            <div class="event-date">
                                                <span>16</span>
                                                <p th:text="${homework.dateCreated}"></p>
                                            </div>
                                        </th>
                                        
                                        <td>
                                            <div class="event-wrap">
                                            <!--Tên bài tập -->
                                                <h3><a href="#" th:text="${homework.homeworkName}"></a></h3>
                                                <div class="meta">
                                                    <div class="organizers">
                                                    <!--Tên người tạo -->
                                                        <a  href="#">Aslan Lingker</a>
                                                    </div>
                                                    <div class="categories">
                                                        
                                                        <a href="#" th:text="${homework.classes.getClassName}"></a>
                                                        
                                                    </div>
                                                    <!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
                                                    <div class="time">
                                                        <p>Deadline :</p><span th:text="${homework.deadline}"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                        <!--Điểm, chưa làm chưa chấm thì 0/10 -->
                                            <div class="r-no">
                                                <span></span>
                                            </div>
                                        </td>
                                        <!--các action -->
                                        <td>
                                            <div class="primary-btn">
                                                <a class="btn btn-primary" href="#">Read More</a>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    
                </div>
                <div class="primary-btn text-center">
                    <a href="#" class="btn btn-primary">Download Schedule</a>
                </div>
            </div>
            <!-- /col end-->
        </div>
        <!-- /row end-->
    </div>
</div>


    
    
    
    
    
                </div>
                <div id="listMembers" class="tab-pane fade">
                <h1>Created by : <span th:text="${c.account.displayName}"> ></span></h1>
                    <h1>List of Member</h1>
    
    
    <div class="container">
  <h2>Filterable Table</h2>
  <p>Type something in the input field to search the table for first names, last names or emails:</p>  
  <input class="form-control" id="myInput" type="text" placeholder="Search..">
  <br>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>        
        <th>Display name</th>
        <th>Email</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="myTable">     
      <tr th:each="acc : ${listAccount}">
        <td th:text="${acc.displayName}"></td>
        <td th:text="${acc.email}"></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
</div>

<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                </div>

                <!-- Add more tab content here -->
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
<script>
    var clipboard = new ClipboardJS('#copyButton', {
        text: function() {
            var id = document.querySelector('.card-text').getAttribute('data-id');
            return id;
        }
    });
</script>

<div th:replace="/ViewLayout/footer.html"></div>
