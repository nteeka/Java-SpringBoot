<div th:replace="/ViewLayout/header.html"></div>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<div class="container-fluid">
	<div class="row content">
		<div class="col-sm-2 sidenav">
			<h4>John's Blog</h4>
			<!-- List of cards -->
			<div class="card">
				<div class="card-header">Featured</div>
				<ul class="list-group list-group-flush">
					<!-- Card 1 -->
					<li class="list-group-item" th:each="class : ${classes}">
						<div class="card-body">
							<h5 class="card-title" th:text="${class.className}">Class
								Title</h5>
							<!-- <p class="card-text" th:text="${class.description}">Class Description</p> -->
							<a th:href="'/Teacher/enterClass/' + ${class.classId}"
								class="btn btn-primary">Enter Class</a>
						</div>
					</li>
				</ul>
			</div>
			<!-- End list of cards -->
			<!-- Search form -->
			<div class="input-group mt-3">
				<input type="text" class="form-control" placeholder="Search Blog..">
				<span class="input-group-btn">
					<button class="btn btn-default" type="button">
						<span class="glyphicon glyphicon-search"></span>
					</button>
				</span>
			</div>
			<div class="card">
				<div class="card-body">
					<h5 class="card-title">Class ID</h5>
					<p class="card-text" th:text="${id}" th:data-id="${id}"></p>
					<button class="btn btn-primary" id="copyButton">Copy ID</button>
				</div>
			</div>
			
			<script
				src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
			<script>
				var clipboard = new ClipboardJS('#copyButton', {
					text : function() {
						var id = document.querySelector('.card-text')
								.getAttribute('data-id');
						return id;
					}
				});
			</script>
			<!-- Thẻ <a> để kích hoạt modal -->
			<a th:if="${c.account.accountId == session.loggedInUser.accountId }"
				href="#" id="createHomeworkBtn" class="btn btn-primary">Create
				Homework</a> <a href="#" id="createNotifyBtn" class="btn btn-primary">Create
				Notification</a>
		</div>
		<div class="col-sm-10">
			<ul class="nav nav-tabs">
				<li class="active"><a data-toggle="tab" href="#recentPosts">Bảng
						tin</a></li>
				<li><a data-toggle="tab" href="#listHomework">Bài tập trên
						lớp</a></li>
				<li><a data-toggle="tab" href="#listMembers">Người tham gia</a></li>
				<!-- Add more tabs as needed -->
			</ul>
			<div class="tab-content">
				<!-- Tab content for Recent Posts -->
				<div id="recentPosts" class="tab-pane fade in active">
					<!-- Add content for recent posts -->
					<div class="row">

						<!-- Content on the right side -->

						<!-- Modal -->
						<div id="homeworkModal" class="modal">
							<div class="modal-dialog">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header">
										<h4 style="text-align: center" class="modal-title">Create
											Homework</h4>
										<button type="button" class="close" data-dismiss="modal">&times;</button>
									</div>

									<!-- Modal Body -->
									<div class="modal-body">
										<div class="alert alert-danger" th:if="${errorDeadline}">
											<p th:text="${errorDeadline}"></p>
										</div>
										<form action="/Homework/createHomework" id="homeworkForm"
											method="post" enctype="multipart/form-data">
											<div class="form-group">
												<label for="classes">Class</label> <select
													class="form-control" id="classes" name="classes">
													<!-- Iterate over the classes and populate the options -->
													<option th:value="${c.classId}" th:text="${c.className}"></option>
												</select>
											</div>
											<div class="form-group">
												<label for="homeworkName">Name:</label> <input
													name="homeworkName" type="text" class="form-control"
													id="homeworkName" required>
											</div>
											<div class="form-group">
												<label for="description">Description:</label>
												<textarea name="description" class="form-control"
													id="homeworkDescription" required></textarea>
											</div>
											<div class="form-group form-check">
												<input type="checkbox" class="form-check-input" id="status"
													onclick="toggleDeadline()"> <label
													class="form-check-label" for="status">Set deadline
													(Optional)</label>
											</div>
											<div class="form-group" id="deadlineGroup"
												style="display: none;">
												<label for="deadline">Deadline:</label> <input
													name="deadline" type="date" class="form-control"
													id="homeworkDeadline">
											</div>
											<script>
												function toggleDeadline() {
													var statusCheckbox = document
															.getElementById("status");
													var deadlineGroup = document
															.getElementById("deadlineGroup");

													if (statusCheckbox.checked) {
														deadlineGroup.style.display = "block"; // Hiển thị trường Deadline
													} else {
														deadlineGroup.style.display = "none"; // Ẩn trường Deadline
													}
												}
											</script>
											<script th:inline="javascript">
												/*<![CDATA[*/
												/* Thymeleaf variable to check if there is an error */
												var hasError = /*[[${errorDeadline != null}]]*/false;

												/* If there is an error, show the modal again */
												if (hasError) {
													$(document)
															.ready(
																	function() {
																		$(
																				'#homeworkModal')
																				.modal(
																						'show');
																	});
												}
												/*]]>*/
											</script>
											<div class="form-group mt-3">
												<label class="mr-2">Upload your homework:</label> <input
													type="file" name="filePath" multiple="multiple">
											</div>
											<button type="submit" class="btn btn-primary">Create</button>
										</form>
									</div>

								</div>
							</div>
						</div>

						<div id="notifyModal" class="modal">
							<div class="modal-dialog">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header">
										<h4 style="text-align: center" class="modal-title">Create
											Notification</h4>
										<button type="button" class="close" data-dismiss="modal">&times;</button>
									</div>

									<!-- Modal Body -->
									<div class="modal-body">
										<form action="/Notify/createNotification" id="notifyForm"
											method="post" enctype="multipart/form-data">
											<div class="form-group">
												<label for="classes">Class</label> <select
													class="form-control" id="classes" name="classes">
													<!-- Iterate over the classes and populate the options -->
													<option th:value="${c.classId}" th:text="${c.className}"></option>
												</select>
											</div>
											<div class="form-group">
												<label for="title">Title:</label> <input type="text"
													name="title" class="form-control" id="notifyTitle" required />
											</div>
											<div class="form-group">
												<label for="content">Content:</label>
												<textarea name="content" class="form-control"
													id="notifyDescription" required></textarea>
											</div>

											<div class="form-group mt-3">
												<label class="mr-2">Upload your files(Optional):</label> <input
													type="file" name="filePath" multiple="multiple">
											</div>
											<button type="submit" class="btn btn-primary">Create</button>
										</form>
									</div>

								</div>
							</div>
						</div>
						<script>
							// Lắng nghe sự kiện click vào thẻ <a> và hiển thị modal
							document
									.getElementById('createHomeworkBtn')
									.addEventListener(
											'click',
											function() {
												document
														.getElementById('homeworkModal').style.display = 'block';
											});

							document
									.getElementById('createNotifyBtn')
									.addEventListener(
											'click',
											function() {
												document
														.getElementById('notifyModal').style.display = 'block';
											});

							// Đóng modal khi nhấn vào nút đóng hoặc click bên ngoài modal
							document
									.querySelectorAll('.close')
									.forEach(
											function(el) {
												el
														.addEventListener(
																'click',
																function() {
																	document
																			.getElementById('homeworkModal').style.display = 'none';
																});
											});

							document
									.querySelectorAll('.close')
									.forEach(
											function(el) {
												el
														.addEventListener(
																'click',
																function() {
																	document
																			.getElementById('notifyModal').style.display = 'none';
																});
											});

							// Xử lý form submit để tạo bài tập
							document
									.getElementById('homeworkForm')
									.addEventListener(
											'submit',
											function(event) {

												var name = document
														.getElementById('homeworkName').value;
												var description = document
														.getElementById('homeworkDescription').value;
												var deadline = document
														.getElementById('homeworkDeadline').value;

												// Thực hiện các thao tác cần thiết để tạo bài tập, ví dụ: gửi dữ liệu đến server

												// Đóng modal sau khi tạo xong
												document
														.getElementById('homeworkModal').style.display = 'none';
												document
														.getElementById('notifyModal').style.display = 'none';
											});
						</script>
						<div class="container">
						<h2>Danh sách thông báo</h2>
						<p>Ở đây là các danh sách thông báo của người tạo lớp muốn thông báo cho tất cả các thành viên đang có trong lớp !</p>
						<div class="row">
							<!-- Thay đổi ở đây -->
							<div th:each="noti : ${notifies}" class="col-md-5 mb-3">
								<div class="card img-fluid"
									style="width: 400px; position: relative;">
									<img class="card-img-top"
										th:src="@{'/image/getImage/' + ${noti.account.image}}"
										alt="Card image" style="width: 400px">
									<div class="card-img-overlay">
										<h4 class="card-title">
											<span th:text="${noti.title}"></span>
										</h4>
										<!-- <p class="card-text"><span th:text="${noti.content}"></span></p> -->
										<a th:href="@{'/Notify/detailNoti/' + ${noti.notifyId}}"
											class="btn btn-primary btn-sm"
											style="position: absolute; bottom: 10px; right: 10px;">See
											detail</a> <a
											th:if="${noti.account.accountId == session.loggedInUser.accountId }"
											href="#" class="btn btn-primary btn-sm" data-toggle="modal"
											data-target="#updateNotifyModal"
											th:attr="onclick='openUpdateNotifyModal(\'' + ${noti.notifyId} + '\', \'' + ${noti.title} + '\', \'' + ${noti.content} + '\',\'' + ${noti.filePath} + '\')'">

											<span class="fa fa-pencil"></span> Edit

										</a> <a
											th:if="${noti.account.accountId == session.loggedInUser.accountId }"
											th:attr="onclick='confirmDelete(\'' + ${noti.notifyId} + '\')'"
											class="btn btn-danger btn-xs"><span class="fa fa-trash"></span>
											Delete</a>


										<script>
											function confirmDelete(notifyId) {
												var result = confirm("Are you sure you want to delete this notify?");
												if (result) {
													// User clicked 'Yes', redirect to the delete URL
													window.location.href = "/Notify/deleteNoti/"
															+ notifyId;
												} else {
													// User clicked 'No', do nothing
												}
											}
										</script>
									</div>
								</div>
								<div id="updateNotifyModal" class="modal">
									<div class="modal-dialog">
										<div class="modal-content">
											<!-- Modal Header -->
											<div class="modal-header">
												<h4 class="modal-title">Update Notification</h4>
												<button type="button" class="close" data-dismiss="modal">&times;</button>
											</div>
											<!-- Modal Body -->
											<div class="modal-body">
												<form id="updateNotifyForm" action="/Notify/updateNoti"
													method="post" enctype="multipart/form-data">
													<input type="hidden" id="updateNotifyId" name="notifyId">
													<div class="form-group">
														<label for="updateNotifyTitle">Title:</label> <input
															type="text" class="form-control" id="updateNotifyTitle"
															name="title">
													</div>
													<div class="form-group">
														<label for="updateNotifyContent">Content:</label>
														<textarea class="form-control" id="updateNotifyContent"
															name="content"></textarea>
													</div>
													<div class="form-group mt-3">
														<label class="mr-2">Current Files:</label>
														<div>
															<ul id="listFile">
																
															</ul>
														</div>
													</div>
													<div class="form-group mt-3">
														<label class="mr-2">Upload your file :</label> 
														
														<input type="file" name="filePath" multiple="multiple">
													</div>
													<button type="submit" class="btn btn-primary">Update</button>
												</form>
											</div>
										</div>
									</div>
								</div>
								<script>
								function openUpdateNotifyModal(notifyId, notifyTitle, notifyContent, file) {
								    // Điền dữ liệu vào các trường trong modal
								    document.getElementById('updateNotifyId').value = notifyId;
								    document.getElementById('updateNotifyTitle').value = notifyTitle;
								    document.getElementById('updateNotifyContent').value = notifyContent;

								    // Kiểm tra xem biến file có giá trị hợp lệ không
								    if (file && file.trim() !== '') {
								        // Process the filePath to extract individual file names or paths
								        const filePaths = file.split(';'); // Assuming file paths are separated by semicolons (adjust if needed)
								        
								        // Create and append list items (LIs) for each file
								        const fileList = document.getElementById('listFile');
								        fileList.innerHTML = ''; // Clear existing content (if any)
								        for (const filePath of filePaths) {
								            const cleanFileName = filePath.replace(/[\[\]]/g, "");
								            const listItem = document.createElement('li');
								            const anchor = document.createElement('a');
								            anchor.href = `/downloadFile/${cleanFileName}`; // Adjust URL as needed
								            const cutFileName = cleanFileName.slice(10);
								            anchor.textContent = cutFileName;
								            listItem.appendChild(anchor);
								            fileList.appendChild(listItem);
								        }
								    } else {
								        // Thực hiện một hành động phù hợp khi biến file không hợp lệ, ví dụ như hiển thị một thông báo
								        console.log('Không có file được tải lên.');
								        // Hoặc thực hiện một hành động khác
								    }

								    // Mở modal
								    $('#updateNotifyModal').modal('show');

								    // Đóng modal khi nhấp vào nút close
								    document.querySelectorAll('.close').forEach(function (el) {
								        el.addEventListener('click', function () {
								            $('#updateNotifyModal').modal('hide');
								        });
								    });
								}

								</script>
							</div>
							<!-- Kết thúc thay đổi -->
						</div>
					</div>
					
					</div>
					
					
					<div id="lateDeadlineAlert" class="alert alert-danger"
						th:if="${lateDeadline}">
						<p style="text-align: center;" th:text="${lateDeadline}"></p>
					</div>
					
				</div>
				<div id="listHomework" class="tab-pane fade">
					<div class="event-schedule-area-two bg-color pad100">
						<div class="container">
							<div class="row">
								<div class="col-lg-12">
									<div class="section-title text-center">
										<div class="title-text">
											<h2>Danh Sách Bài Tập</h2>
										</div>
										<p>
											In ludus latine mea, eos paulo quaestio an. Meis possit ea
											sit. Vidisse molestie<br /> cum te, sea lorem instructior
											at.
										</p>

									</div>
								</div>
								<!-- /.col end-->
							</div>
							<!-- row end-->
							<div class="row">
								<div class="col-lg-12">
									<ul class="nav custom-tab" id="myTab" role="tablist">
										<!--href : tab đã làm - chưa làm - tất cả-->
										<li class="nav-item"><a class="nav-link active show"
											id="home-taThursday" data-toggle="tab" href="#all" role="tab"
											aria-controls="home" aria-selected="true">Tất cả</a></li>
										<li th:if="${c.account.accountId != session.loggedInUser.accountId}" class="nav-item"><a class="nav-link" id="profile-tab"
											data-toggle="tab" href="#done" role="tab"
											aria-controls="profile" aria-selected="false">Đã làm</a></li>
										<li th:if="${c.account.accountId != session.loggedInUser.accountId}" class="nav-item"><a class="nav-link" id="contact-tab"
											data-toggle="tab" href="#notDone" role="tab"
											aria-controls="contact" aria-selected="false">Chưa làm</a></li>

									</ul>


								
									<div class="tab-content" id="myTabContent">
										<div class="tab-pane fade active show" id="all"
											role="tabpanel">

											<!-- Modal edit Homework -->
											<div id="updateHomeworkModal" class="modal">
												<div class="modal-dialog">
													<div class="modal-content">
														<!-- Modal Header -->
														<div class="modal-header">
															<h4 class="modal-title">Update Homework</h4>
															<button type="button" class="close" data-dismiss="modal">&times;</button>
														</div>
														<!-- Modal Body -->
														<div class="modal-body">
															<form id="updateHomeworkForm"
																action="/Homework/updateHomework" method="post"
																enctype="multipart/form-data">
																<input type="hidden" id="updateHomeworkId"
																	name="homeworkId">
																<div class="form-group">
																	<label for="updateHomeworkName">Homework name:</label>
																	<input type="text" class="form-control"
																		id="updateHomeworkName" name="homeworkName">
																</div>
																<div class="form-group">
																	<label for="updateHomeworkDescription">Description:</label>
																	<textarea class="form-control"
																		id="updateHomeworkDescription" name="description"></textarea>
																</div>
																<div class="form-group">
																	<label for="updateHomeworkDeadline">Deadline:</label> <input
																		type="date" class="form-control"
																		id="updateHomeworkDeadline" name="deadline">
																</div>
																<div class="form-group mt-3">
																	<label class="mr-2">Current Files:</label>
																	<div>
																		<ul id="listCurrentHW">
																			
																		</ul>
																	</div>
																</div>
																<div class="form-group mt-3">
																	<label class="mr-2">Upload your file(Optional):</label>
																	<input type="file" name="filePath" multiple="multiple">
																</div>
																<button type="submit" class="btn btn-primary">Update</button>
															</form>
														</div>
													</div>
												</div>
											</div>
											
											<script>
												function openUpdateHomeworkModal(
														homeworkId,
														homeworkName,
														homeworkDescription,
														deadline, file) {
													// Điền dữ liệu vào các trường trong modal
													document
															.getElementById('updateHomeworkId').value = homeworkId;
													document
															.getElementById('updateHomeworkName').value = homeworkName;
													document
															.getElementById('updateHomeworkDescription').value = homeworkDescription;
													document
															.getElementById('updateHomeworkDeadline').value = deadline;
													// Kiểm tra xem biến file có giá trị hợp lệ không
												    if (file && file.trim() !== '') {
												        // Process the filePath to extract individual file names or paths
												        const filePaths = file.split(';'); // Assuming file paths are separated by semicolons (adjust if needed)
												        
												        // Create and append list items (LIs) for each file
												        const fileList = document.getElementById('listCur');
												        fileList.innerHTML = ''; // Clear existing content (if any)
												        for (const filePath of filePaths) {
												            const cleanFileName = filePath.replace(/[\[\]]/g, "");
												            const listItem = document.createElement('li');
												            const anchor = document.createElement('a');
												            anchor.href = `/downloadFile/${cleanFileName}`; // Adjust URL as needed
												            const cutFileName = cleanFileName.slice(10);
												            anchor.textContent = cutFileName;
												            listItem.appendChild(anchor);
												            fileList.appendChild(listItem);
												        }
												    } else {
												        // Thực hiện một hành động phù hợp khi biến file không hợp lệ, ví dụ như hiển thị một thông báo
												        console.log('Không có file được tải lên.');
												        // Hoặc thực hiện một hành động khác
												    }
													// Mở modal
													$('#updateHomeworkModal').modal('show');
													document.querySelectorAll('.close')
															.forEach(
																	function(el) {
																		el
																				.addEventListener(
																						'click',
																						function() {
																							$(
																									'#updateHomeworkModal')
																									.modal(
																											'hide');
																						});
																	});

};
											</script>





											<div class="table-responsive">

												<table class="table custom-table">
													<thead>
														<!--Danh sách tất cả bài tập -->
														<tr>
															<th scope="col">Information</th>
															<th scope="col">Status</th>
															<th class="text-center" scope="col">Action</th>
														</tr>
													</thead>
													<tbody>
														<tr th:each="homework : ${hw}" class="inner-box">

															<td>
																<div class="event-wrap">
																	<!--Tên bài tập -->
																	<h3>
																		<a href="#" th:text="${homework.homeworkName}"></a>
																	</h3>
																	<div class="meta">
																		<div class="organizers">
																			<!--Tên người tạo -->
																			<!-- <a  href="#">Aslan Lingker</a>-->

																		</div>
																		<div class="categories">

																			<!--<a href="#" th:text="${homework.classes.getClassName}"></a>-->

																		</div>
																		<!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
																		<div class="time">
																			<p>
																				From <span th:text="${homework.dateCreated}"></span>
																				to <span th:text="${homework.deadline}"></span>
																			</p>
																		</div>
																	</div>
																</div>
															</td>
															<td>
																<!--Trạng thái: đã nộp - chưa nộp -->
																<div class="r-no">
																	<span
																		th:text="${(homework.deadline == null || homework.deadline.isAfter(T(java.time.LocalDate).now())) ? 'Open' : 'Close'}"></span>
																	<!-- Sử dụng biểu thức điều kiện để kiểm tra xem Homework đã nộp hay chưa -->
																	<div th:if= "${homework.classes.account.accountId != session.loggedInUser.accountId }">
																		<span th:if="${listSubmit.contains(homework.homeworkId)}">Đã nộp</span>
																		<span th:unless="${listSubmit.contains(homework.homeworkId)}">Chưa nộp</span>
																	</div>
																	

																</div>
															</td>
															<!--các action -->
															<td>
																<div class="btn-group">
																	<a th:if="${c.account.accountId == session.loggedInUser.accountId}" href="#" class="btn btn-primary" data-toggle="modal"
																		data-target="#updateHomeworkModal"
																		th:attr="onclick='openUpdateHomeworkModal(\'' + ${homework.homeworkId} + '\', \'' + ${homework.homeworkName} + '\', \'' + ${homework.description} + '\', \'' + ${homework.deadline} + '\', \'' + ${homework.filePath} + '\')'">
																		<span class="fa fa-pencil"></span> Edit
																	</a> <a
																		th:if="${c.account.accountId == session.loggedInUser.accountId}" th:attr="onclick='confirmDeleteHomework(\'' + ${homework.homeworkId} + '\')'"
																		class="btn btn-danger"> <span class="fa fa-trash"></span>
																		Delete
																	</a> <a th:if="${listSubmit.contains(homework.homeworkId) && c.account.accountId != session.loggedInUser.accountId }"
																		th:href="@{'/Teacher/submitHomeWorkView/' + ${homework.homeworkId}}"
																		class="btn btn-primary">Xem lại bài đã nộp</a> <a
																		id="submitHomeworkButton"
																		th:data-deadline="${homework.deadline}"
																		th:if="${!listSubmit.contains(homework.homeworkId) && c.account.accountId != session.loggedInUser.accountId }"
																		th:href="@{'/Teacher/submitHomeWorkView/' + ${homework.homeworkId}}"
																		class="btn btn-primary">Nộp bài</a> <a
																		class="btn btn-primary" th:href="'/Homework/listMemberSubmited/' + ${homework.homeworkId}">Read More</a>
																</div>


															</td>
														</tr>


													</tbody>
												</table>
											</div>
											<style>
												.custom-table {
													border-collapse: collapse;
												}
												
												.custom-table th, .custom-table td {
													padding: 8px;
													border: 1px solid #dddddd;
													text-align: center;
												}
												
												.custom-table th {
													background-color: #f2f2f2;
												}
											</style>
										</div>
										<div class="tab-pane fade" id="done" role="tabpanel"
											aria-labelledby="profile-tab">
											<div class="table-responsive">
												<table class="table">
													<thead>
														<tr>
															<th class="text-center" scope="col">Date</th>

															<th scope="col">Session</th>
															<th scope="col">Venue</th>
															<th scope="col">Venue</th>
														</tr>
													</thead>
													<tbody>
														<!--Danh sách các bài đã làm  -->
														<tr th:each="homework : ${hw}"
															th:if="${listSubmit.contains(homework.homeworkId)}"
															class="inner-box">
															<!--Ngày giao bài -->
															<th style="text-align: center;" scope="row">
																<div class="event-date">
																	<span>16</span>
																	<p th:text="${#temporals.format(homework.dateCreated, 'dd/MM/yyyy HH:mm')}"></p>
																</div>
															</th>

															<td>
																<div class="event-wrap">
																	<!--Tên bài tập -->
																	<h3>
																		<a href="#" th:text="${homework.homeworkName}"></a>
																	</h3>
																	<div class="meta">
																		<div class="organizers">
																			<!--Tên người tạo -->
																			<a href="#">Aslan Lingker</a>
																		</div>
																		<div class="categories">

																			<a href="#"
																				th:text="${homework.classes.getClassName}"></a>

																		</div>
																		<!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
																		<div class="time">
																			<p>Deadline :</p>
																			<span th:text="${homework.deadline}"></span>
																		</div>
																	</div>
																</div>
															</td>
															<td>
																<!--Điểm, chưa làm chưa chấm thì 0/10 -->
																<div class="r-no">
																	<span
																		th:text="${(homework.deadline == null || homework.deadline.isAfter(T(java.time.LocalDate).now())) ? 'Open' : 'Close'}"></span>
																	<!-- Sử dụng biểu thức điều kiện để kiểm tra xem Homework đã nộp hay chưa -->
																	<span
																		th:if="${listSubmit.contains(homework.homeworkId)}">Đã
																		nộp</span> <span
																		th:unless="${listSubmit.contains(homework.homeworkId)}">Chưa
																		nộp</span>
																</div>
															</td>
															<!--các action -->
															<td>
																<div class="primary-btn">
																	<a class="btn btn-primary" href="#">Read More</a>
																</div>
															</td>
														</tr>


													</tbody>
												</table>
											</div>
										</div>
										<div class="tab-pane fade" id="notDone" role="tabpanel"
											aria-labelledby="contact-tab">
											<div class="table-responsive">
												<table class="table">
													<thead>
														<tr>
															<th class="text-center" scope="col">Date</th>

															<th scope="col">Session</th>
															<th scope="col">Venue</th>
															<th scope="col">Venue</th>
														</tr>
													</thead>
													<tbody>
														<!--danh sách các bài tập chưa làm -->
														<tr th:each="homework : ${hw}"
															th:if="${!listSubmit.contains(homework.homeworkId)}"
															class="inner-box">
															<!--Ngày giao bài -->
															<th style="text-align: center;" scope="row">
																<div class="event-date">
																	<span>16</span>
																	<p th:text="${#temporals.format(homework.dateCreated, 'dd/MM/yyyy HH:mm')}"></p>
																</div>
															</th>

															<td>
																<div class="event-wrap">
																	<!--Tên bài tập -->
																	<h3>
																		<a href="#" th:text="${homework.homeworkName}"></a>
																	</h3>
																	<div class="meta">
																		<div class="organizers">
																			<!--Tên người tạo -->
																			<a href="#">Aslan Lingker</a>
																		</div>
																		<div class="categories">

																			<a href="#"
																				th:text="${homework.classes.getClassName}"></a>

																		</div>
																		<!--Ngày kết thúc - có thể đếm ngược còn bao nhiêu ngày- giờ -->
																		<div class="time">
																			<p>Deadline :</p>
																			<span th:text="${homework.deadline}"></span>
																		</div>
																	</div>
																</div>
															</td>
															<td>
																<!--Điểm, chưa làm chưa chấm thì 0/10 -->
																<div class="r-no">
																	<span
																		th:text="${(homework.deadline == null || homework.deadline.isAfter(T(java.time.LocalDate).now())) ? 'Open' : 'Close'}"></span>
																	<!-- Sử dụng biểu thức điều kiện để kiểm tra xem Homework đã nộp hay chưa -->
																	<span
																		th:if="${listSubmit.contains(homework.homeworkId)}">Đã
																		nộp</span> <span
																		th:unless="${listSubmit.contains(homework.homeworkId)}">Chưa
																		nộp</span>
																</div>
															</td>
															<!--các action -->
															<td>
																<div class="primary-btn">
																	<a class="btn btn-primary" href="#">Read More</a>
																</div>
															</td>
														</tr>

													</tbody>
												</table>
											</div>
										</div>
									</div>
									<div class="primary-btn text-center">
										<a href="#" class="btn btn-primary">Download Schedule</a>
									</div>
								</div>
								<!-- /col end-->
							</div>
							<!-- /row end-->
						</div>
					</div>
				</div>
				<div id="listMembers" class="tab-pane fade">
					<h1>
						Created by : <span th:text="${c.account.displayName}"> ></span>
					</h1>
					<h1>List of Member</h1>


					<div class="container">
						<h2>Filterable Table</h2>
						<p>Type something in the input field to search the table for
							first names, last names or emails:</p>
						<input class="form-control" id="myInput" type="text"
							placeholder="Search.."> <br>
						<table class="table table-bordered table-striped">
							<thead>
								<tr>
									<th>Display name</th>
									<th>Email</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody id="myTable">
								<tr th:each="acc : ${listAccount}">
									<td th:text="${acc.displayName}"></td>
									<td th:text="${acc.email}"></td>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
					<script>
						$(document).ready(function() {
							$("#myInput").on("keyup",function() {
								var value = $(this).val().toLowerCase();
								$("#myTable tr").filter(function() {
									$(this).toggle(
											$(this).text().toLowerCase().indexOf(value) > -1)
									});
								});
							});
					</script>
					<script type="text/javascript">
						$(document).ready(function() {
							// Delay before hiding the alert (in milliseconds)
							var delay = 5000; // 5 seconds

							// Hide the alert after a delay
							setTimeout(function() {
								$('#lateDeadlineAlert').fadeOut('slow');
							}, delay);
						});
					</script>
					<script
						src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
					<script>
						var clipboard = new ClipboardJS('#copyButton', {
							text : function() {
								var id = document.querySelector('.card-text').getAttribute('data-id');
								return id;
							}
						});
					</script>
					</div>
			</div>
		</div>
	</div>
</div>
<div th:replace="/ViewLayout/footer.html"></div>